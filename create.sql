create table tb_knowledge (id int8 generated by default as identity, name varchar(255), primary key (id));
create table tb_role (id int8 generated by default as identity, authority varchar(255), primary key (id));
create table tb_session (id int8 generated by default as identity, created_at TIMESTAMP WITHOUT TIME ZONE, status int4, updated_at TIMESTAMP WITHOUT TIME ZONE, primary key (id));
create table tb_user (id int8 generated by default as identity, created_at TIMESTAMP WITHOUT TIME ZONE, description varchar(255), email varchar(255), image varchar(255), inactivated_at TIMESTAMP WITHOUT TIME ZONE, is_active boolean, name varchar(255), password varchar(255), updated_at TIMESTAMP WITHOUT TIME ZONE, primary key (id));
create table tb_user_knowledge (user_id int8 not null, knowledge_id int8 not null, primary key (user_id, knowledge_id));
create table tb_user_role (user_id int8 not null, role_id int8 not null, primary key (user_id, role_id));
create table tb_user_session (user_id int8 not null, session_id int8 not null, primary key (user_id, session_id));
alter table if exists tb_user add constraint UK_4vih17mube9j7cqyjlfbcrk4m unique (email);
alter table if exists tb_user_knowledge add constraint FK3aencju80x6bk8ee0wgexefot foreign key (knowledge_id) references tb_knowledge;
alter table if exists tb_user_knowledge add constraint FK3tyiopmkr5c5x4dquducbd0i9 foreign key (user_id) references tb_user;
alter table if exists tb_user_role add constraint FKea2ootw6b6bb0xt3ptl28bymv foreign key (role_id) references tb_role;
alter table if exists tb_user_role add constraint FK7vn3h53d0tqdimm8cp45gc0kl foreign key (user_id) references tb_user;
alter table if exists tb_user_session add constraint FKscs4u20k382ukp86lg4l7nq7w foreign key (session_id) references tb_session;
alter table if exists tb_user_session add constraint FKpsp4437nj4thlqfk1i4h2uw60 foreign key (user_id) references tb_user;
